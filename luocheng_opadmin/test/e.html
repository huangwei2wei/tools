<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <style type="text/css">
    #divBall
    {
        position:absolute;
        top:100px;
        left:0px;
    }
    #divX
    {
        position:absolute;
        top:100px;
        background-color:Red;
        height:1px;
        overflow:hidden;
        width:800px;
        left:0px;
    }
    </style>
</head>
<body>
<div id="divLine"></div>
<div id="divBall">*</div>
<div id="divX"></div>
<div id="asdfdsf" style="margin-top:250px;"></div>
<script language="javascript" type="text/javascript">
var ball = document.getElementById("divBall");
var line = document.getElementById("divLine");
var x = 0;
var y = 0;
var angle = 311;
var s=false;
var pinglv=randoms(6,10);
var fudu=5.8*(10-pinglv);
var zhuan=0;
var sinarr=new Array();
function Run(maxs)
{
	x += pinglv;
	angle += fudu;
	
	if (x >(pinglv*48)){return false;}
	if (angle > 360) angle = 0;
	var tmpsin= ((Math.sin(Math.PI / 180 * angle) * (maxs*100)+100)/200);
	if(tmpsin<0.15)
	{
		angle = 311
		//Run(maxs)
	}
	sinarr[y] =tmpsin;
	
	ball.style.left = x + "px";
	ball.style.top =(sinarr[y]*200) + "px";
	//添加运动轨迹
	var p = ball.cloneNode(true);
	line.appendChild(p);
	
	y=y+1;
	Run(maxs)
}

Run(1);
var aa=new Array();
var base_sin=sinarr[0];
for(var k=0;k<sinarr.length;k++)
{
	//sinarr[k]=sinarr[k]-base_sin;
	
	document.getElementById("asdfdsf").innerHTML+=(k+":"+sinarr[k])+"<br>";
}

function randoms(mins,maxs)
{
    return Math.floor(mins+Math.random()*(maxs-mins));

}
</script>
</body>
</html>